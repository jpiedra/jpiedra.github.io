---
layout: default
title: GiveMeItems! - the Mutator
tags: unrealscript mutator givemeitems
---

<div>
	<div class="page-title">
    	{{ page.title }}</div>
	</div>
	<p class="page-title-2">A mutator and GUI addon for Unreal Tournament. A Work in Progress.</p> 
	<p class="page-title-2">Overview</p> 
<p class="page-title-2">The Mutator</p> 
	<p class="page-paragraph">The mutator is the component added to an actual game, and is responsible for overriding default monster properties.</p>
	<div class="col-sm-12"><pre class="pre-pad" ><span class="inner-pre" style="color:#00FF99">
//=============================================================================
// GiveMeItems.
//=============================================================================
class GiveMeItems expands Mutator config(GiveMeItems);

var() config int destroyTime;
var() config String ItemChoice[24];
var class<Inventory> IVar[24];
var int i;
var float Selection;

function PreBeginPlay()
{
  log("~GiveMeItems - 6/11/2014~");
  log("Initializing Items to load for Monsters...");

  //see below.
  SetTimer(destroyTime, true);
	
  for (i = 0; i < 24; i++){
    IVar[i] = class<Inventory>(DynamicLoadObject(ItemChoice[i], class'Class'));				
    if (IVar[i] == None){
     log("GiveMeItems: Invalid Class for ItemChoice["$i$"], substituting...");
     IVar[i] = class'unrealshare.bandages';} 
    else {
	IVar[i].default.event = 'GMIMutDeleteMe';}
	    }
}


function Timer(){

  local inventory inv;

  foreach allactors(class'inventory', inv){
  if (inv.event == 'GMIMutDeleteMe' && inv.IsInState('pickup')){
	inv.destroy();}
	}
}

function bool CheckReplacement(Actor Other, out byte bSuperRelevant) 
{ 
		
  Selection = Rand(24);
		
  if (Selection < 24){
  	if(Other.IsA('ScriptedPawn') && 
	   ScriptedPawn(Other).DropWhenKilled == None){
		ScriptedPawn(Other).DropWhenKilled = IVar[Selection];} 
 				}
  return true; 
            
  }             
} </span></pre>
		</div>
